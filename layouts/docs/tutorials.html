<!doctype html>
<html lang="{{ .Site.Language.Lang }}" class="no-js">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body class="td-{{ .Kind }}{{ with .Page.Params.body_class }} {{ . }}{{ end }}">
    <header>
      {{ partial "navbar.html" . }}
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
            <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
                <noscript>
                    {{ partial "sidebar.html" . }}
                </noscript>
                <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-filter lozad" type="button" data-toggle="collapse" data-target="#tutorial-filters" aria-expanded="true" aria-label="Toggle tutorial filters" title="Toggle tutorial filters">
                </button>
                <div class="search-panel__filters collapse show-on-wide lozad" id="tutorial-filters">
                    <div id="languages-list"></div>
                    <div id="components-list"></div>
                    <div id="services-list"></div>
                    <div id="level-list"></div>
                    <div id="cost-range"></div>
                </div>
            </aside>
            <main class="col-12 col-md-9 col-xl-10 pl-md-5" role="main">
                <div class="td-content">
                    <h1>{{ .Title }}</h1>

                    {{ if not hugo.IsProduction }}
                    <div class="alert alert-caution" role="alert">
                        <h4 class="alert-heading">Missing a tutorial?</h4>
                        <p>This page relies on data from Typesense which is only generated on publish.
                            Access your tutorial with its url or by using the sidebar navigation which is visible on any page but this one.
                            (This message is only visible on staging.)
                        </p>
                    </div>
                    {{ end }}

                    <div class="search-panel__results card-container lozad">
                        <div id="hits" class="row-no-margin"></div>
                        <div id="pagination"></div>
                    </div>
                    <!-- if no javscript show the tutorials -->
                    <noscript>
                        <div class="alert alert-caution" role="alert">
                            <h4 class="alert-heading">Javascript</h4>
                            <p>Please enable javascript to see all tutorials.</p>
                        </div>
                        <div class="card-container">
                            <div class="row-no-margin">
                                {{ range first 20 (where .Site.Pages "Section" "tutorials") }}
                                {{ range .Pages }}
{{ partial "tutorialcard-no-js.html" (dict "link" (.RelPermalink)) }}
                                {{ end }}
                                {{ end }}
                            </div>
                        </div>
                    </noscript>
                </div>
            </main>
        </div>
      </div>
      {{ partial "footer.html" . }}
    </div>

    {{ partial "scripts.html" . }}

    <script src="https://cdn.jsdelivr.net/npm/typesense-instantsearch-adapter@2/dist/typesense-instantsearch-adapter.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.44.0"></script>
    <script src="../js/tutorials.js"></script>

  </body>
</html>
